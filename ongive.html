<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Возврат денег</title>
  <link id="stylesheet" rel="stylesheet" href="ongive.css">
  <link rel="icon" type="image/png" href="img/u0-transformed.png">
</head>
<body>
        <header class="header"> <!--верхнее меню-->
            <div class="burger-icon" onclick="toggleMenu()">&#9776;</div> <!--  бургер меню -->
            <a href="index.html" class="logo-link"><!-- лого ссылка  -->
              <div class="logo"></div>
            </a>
            <nav class="menu"> <!--  меню верхнее -->
              <div class="close-btn" onclick="toggleMenu()">
                &#10006;
              </div>
              <div class="menu-item dropdown" onclick="toggleSubMenu(this)">
                <span class="dropbtn">Услуги</span>
                <div class="dropdown-content">
                  <a href="give.html">Взять деньги</a>
                  <a href="ongive.html">Отдать деньги</a>
                </div>
              </div>
              <div class="menu-item dropdown" onclick="toggleSubMenu(this)">
                <span class="dropbtn">Поддержка</span>
                <div class="dropdown-content">
                  <a href="support.html">Написать в поддержку</a>
                  <a href="FAQ.html">FAQ</a>
                </div>
              </div>
              <div class="menu-item dropdown" onclick="toggleSubMenu(this)">
                <a class="dropbtn" style="text-decoration: none;" href="adres.html">Адреса</a>
                </div>
              </div>
              <div class="menu-item dropdown" onclick="toggleSubMenu(this)">
                <span class="dropbtn">Компания</span>
                <div class="dropdown-content">
                  <a href="referal.html">Реферальная система</a>
                  <a href="team.html">Команда</a>
                </div>
              </div>
            </nav>
            <a href="login.html" class="login-btn">Вход</a>
          </header>
          <div class="polosa"><!-- отображение названия подраздела -->
            <h2 style="margin-left: 20px;">Вернуть деньги</h2>
          </div>
          <div class="container"><!-- основной контент -->
            <div class="kak">
                <h3>Как вернуть микрокредит</h3>
                <div class="punkti">
                    <div class="ungiv">
                              <h4>1. Онлайн</h4>
                              <p>Вы можете оплатить свой микрокредит с помощью банковской карты на сайте микрокредитора.</p>
                          </div>
                          <div class="ungiv">
                              <h4>2. В терминале</h4>
                              <p>Вы можете оплатить наличными деньгами, воспользовавшись платежными (электронными) терминалами платежных систем.</p>
                          </div>
                          <div class="ungiv">
                              <h4>3. В Кассе банка</h4>
                              <p>Для безналичной оплаты вы можете перевести денежные средства на счет МФО через банковский перевод.</p>
                    </div>
                </div>
            </div>
            <div class="center-box" id="paymentForm">
              <div class="content"><!-- форма для возврата денег -->
                <h1>Возврат денег</h1>
                <h4>Средства будут переведены МФО "Keke Finance"</h4>
                <input type="text" id="fullName" placeholder="ФИО">
                <input type="text" id="phoneNumber" placeholder="Номер телефона">
                <input type="text" id="cardNumber" placeholder="Номер карты">
                <div class="input-fields">
                  <input type="text" id="expiryDate" placeholder="Срок действия (ММ/ГГ)">
                  <input type="text" id="cvv" placeholder="CVV код">
                </div>
                <input type="number" id="refundAmount" placeholder="Сумма для возврата">
                <button class="next-btn" onclick="validateAndProceed()">Далее</button>
              </div>
            </div>
            <div class="waiting" id="waitingScreen" style="display: none;">
              <div class="waiting-content">
                <i class="fas fa-spinner fa-spin fa-3x"></i>
                <p id="statusText">Подождите, ваш запрос обрабатывается...</p>
              </div>
            </div>
          
            <div class="center-box success" id="successMessage" style="display: none;">
              <div class="success-content"><!-- окно успешного возврата  -->
                <h2>Спасибо!</h2>
                <p>Деньги успешно возвращены на счет. Долг полностью погашен.</p>
                <p>Подробная информация отправлена на ваш номер телефона.</p>
                <button class="next-btn" onclick="returnToMain()">Погасить еще один кредит</button>
              </div>
            </div>
          </div>
<footer><!-- подвал -->
    <ul class="menu3"><!-- меню подвала -->
        <li><a href="index.html">Главная</a></li>
        <li><a href="team.html">Команда</a></li>
        <li><a href="referal.html">Реферал</a></li>
        <li><a href="table.html">Задолжники</a></li>
        <li><a href="support.html">Поддержка</a></li>
        <li><a onclick="changeStyle()">Смена интерфейса</a></li>
    </ul>
    <ul class="social"><!-- иконки соцсетей -->
        <li><a href="telegram.html"><i class="fa-brands fa-telegram"></i></a></li>
        <li><a href="whatsapp.html"><i class="fa-brands fa-whatsapp"></i></a></li>
        <li><a href="instagram.html"><i class="fa-brands fa-instagram"></i></a></li>
    </ul>
    <p>©2024 Экзаменационный проект - Kekezaim.kz | Трищ Кирилл ИС-22</p>
</footer>
<script>
function toggleMenu() {
    var menu = document.querySelector('.menu');
    menu.classList.toggle('active');
    if (menu.classList.contains('active')) {
        document.addEventListener('click', closeMenuOutside);
        document.addEventListener('touchstart', closeMenuOutside);
    } else {
        document.removeEventListener('click', closeMenuOutside);
        document.removeEventListener('touchstart', closeMenuOutside);
    }
}

function toggleSubMenu(element) {
    element.querySelector('.dropdown-content').classList.toggle('active');
}

function closeMenuOutside(event) {
    var menu = document.querySelector('.menu');
    if (!menu.contains(event.target) && !event.target.classList.contains('burger-icon')) {
        menu.classList.remove('active');
        document.removeEventListener('click', closeMenuOutside);
        document.removeEventListener('touchstart', closeMenuOutside);
    }
}
</script>
<script src="https://kit.fontawesome.com/09ef455c42.js" crossorigin="anonymous"></script><!-- подключение иконок -->
<script>
    function validateAndProceed() {
      var fullName = document.getElementById("fullName").value;
      var phoneNumber = document.getElementById("phoneNumber").value;
      var cardNumber = document.getElementById("cardNumber").value;
      var expiryDate = document.getElementById("expiryDate").value;
      var cvv = document.getElementById("cvv").value;
      var refundAmount = document.getElementById("refundAmount").value;

      if (fullName.trim() === "" || phoneNumber.trim() === "" || cardNumber.trim() === "" || expiryDate.trim() === "" || cvv.trim() === "" || refundAmount.trim() === "") {
        alert("Пожалуйста, заполните все поля.");
        return;
      }

      if (!/^\d{16}$/.test(cardNumber)) {
        alert("Пожалуйста, введите корректный номер карты.");
        return;
      }

      if (!/^\d{3}$/.test(cvv)) {
        alert("Пожалуйста, введите корректный CVV код.");
        return;
      }

      if (!/^\d{2}\/\d{2}$/.test(expiryDate)) {
        alert("Пожалуйста, введите корректный срок действия карты в формате ММ/ГГ.");
        return;
      }

      if (isNaN(parseFloat(refundAmount)) || parseFloat(refundAmount) <= 0) {
        alert("Пожалуйста, введите корректную сумму для возврата.");
        return;
      }

      showWaiting();
    }

    function showWaiting() {
      document.getElementById("paymentForm").style.display = "none";
      document.getElementById("waitingScreen").style.display = "flex"; // изменено на "flex"
      setTimeout(showSuccess, 10000);
    }

    function showSuccess() {
      document.getElementById("waitingScreen").style.display = "none";
      document.getElementById("successMessage").style.display = "block"; // изменено на "block"
    }

    function returnToMain() {
      document.getElementById("successMessage").style.display = "none";
      document.getElementById("paymentForm").style.display = "block"; // изменено на "block"
      // Очистка формы
      document.getElementById("fullName").value = "";
      document.getElementById("phoneNumber").value = "";
      document.getElementById("cardNumber").value = "";
      document.getElementById("expiryDate").value = "";
      document.getElementById("cvv").value = "";
      document.getElementById("refundAmount").value = "";
    }
  </script>
      <script>
        function changeStyle() {
            var currentStyle = document.getElementById('stylesheet').getAttribute('href');
            if (currentStyle === 'ongive.css') {
                document.getElementById('stylesheet').setAttribute('href', 'ongive_dark.css');
            } else {
                document.getElementById('stylesheet').setAttribute('href', 'ongive.css');
            }
        }
    </script>
</body>
</html>
